![alt text](./assets/class.png)

```
@startuml
class WarehouseSystemFacade {
  + registerGoodsReceipt(supplier: String, items: List<ReceiptItem>): boolean
  + registerGoodsShipment(customer: String, items: List<ShipmentItem>): boolean
  + writeOffGoods(reason: String, items: List<WriteOffItem>): boolean
  + assignStorageLocation(productId: String, location: StorageLocation): boolean
  + findOptimalLocation(product: Product, quantity: double): StorageLocation
  + generateStockReport(): StockReport
  + generateMovementReport(startDate: Date, endDate: Date): MovementReport
}

package "Core Domain" {

class Warehouse {
  - id: String
  - name: String
  - address: String
  - totalCapacity: double
  - usedCapacity: double
  + calculateFreeSpace(): double
  + updateCapacity(change: double): void
}

class Product {
  - id: String
  - sku: String
  - name: String
  - description: String
  - category: String
  - unitOfMeasure: String
  - weight: double
  - volume: double
  - minStockLevel: int
  - maxStockLevel: int
  + checkStockLevel(): int
  + isBelowMinLevel(): boolean
}

class ProductBatch {
  - batchNumber: String
  - product: Product
  - quantity: double
  - receiptDate: Date
  - expirationDate: Date
  - supplier: String
  + isExpired(): boolean
  + split(newQuantity: double): ProductBatch
}

class StorageLocation {
  - id: String
  - zone: String
  - rack: String
  - shelf: String
  - level: int
  - capacity: double
  - usedSpace: double
  + getFreeSpace(): double
  + canStore(product: Product, quantity: double): boolean
}

class StockMovement {
  - id: String
  - dateTime: DateTime
  - movementType: MovementType
  - product: Product
  - quantity: double
  - referenceDocument: String
  - user: String
  + validateMovement(): boolean
}

enum MovementType {
  RECEIPT
  SHIPMENT
  WRITE_OFF
  INTERNAL_TRANSFER
}

}

package "Movement" {

class GoodsReceipt {
  - receiptNumber: String
  - receiptDate: Date
  - supplier: String
  - status: ReceiptStatus
  - items: List<ReceiptItem>
  + registerReceipt(): void
  + confirmReceipt(): void
  + addItem(product: Product, quantity: double, batchNumber: String): void
  + calculateTotalQuantity(): double
}

class GoodsShipment {
  - shipmentNumber: String
  - shipmentDate: Date
  - customer: String
  - deliveryAddress: String
  - status: ShipmentStatus
  - items: List<ShipmentItem>
  + createShipment(): void
  + confirmShipment(): void
  + addItem(product: Product, quantity: double): void
  + validateStockAvailability(): boolean
}

class WriteOff {
  - documentNumber: String
  - writeOffDate: Date
  - reason: String
  - responsiblePerson: String
  - status: WriteOffStatus
  - items: List<WriteOffItem>
  + createWriteOff(): void
  + approveWriteOff(): void
  + addItem(product: Product, quantity: double, reason: String): void
}

class ReceiptItem {
  - product: Product
  - quantity: double
  - batchNumber: String
  - unitPrice: double
  - storageLocation: StorageLocation
  + calculateTotal(): double
}

class ShipmentItem {
  - product: Product
  - quantity: double
  - batch: ProductBatch
  - unitPrice: double
  + calculateTotal(): double
}

class WriteOffItem {
  - product: Product
  - quantity: double
  - batch: ProductBatch
  - reason: String
  + validateWriteOff(): boolean
}

enum ReceiptStatus {
  DRAFT
  REGISTERED
  CONFIRMED
}

enum ShipmentStatus {
  DRAFT
  CREATED
  CONFIRMED
  SHIPPED
}

enum WriteOffStatus {
  DRAFT
  CREATED
  APPROVED
}

}

package "Reports" {

class StockReport {
  - reportDate: Date
  - warehouse: Warehouse
  - items: List<StockReportItem>
  - totalValue: double
  + generateReport(): void
  + exportToExcel(): void
}

class MovementReport {
  - startDate: Date
  - endDate: Date
  - warehouse: Warehouse
  - movements: List<StockMovement>
  - totalReceipts: double
  - totalShipments: double
  + generateTurnoverStatement(): void
}

class StockReportItem {
  - product: Product
  - currentStock: double
  - minLevel: int
  - maxLevel: int
  - status: StockStatus
  + checkStatus(): StockStatus
}

enum StockStatus {
  NORMAL
  BELOW_MIN
  ABOVE_MAX
  OUT_OF_STOCK
}

}

' Relationships
WarehouseSystemFacade --> Warehouse
WarehouseSystemFacade --> Product
WarehouseSystemFacade --> StockMovement
WarehouseSystemFacade --> GoodsReceipt
WarehouseSystemFacade --> GoodsShipment
WarehouseSystemFacade --> WriteOff
WarehouseSystemFacade --> StockReport
WarehouseSystemFacade --> MovementReport

Warehouse "1" *-- "1..*" StorageLocation
StorageLocation "1" *-- "0..*" ProductBatch
Product "1" *-- "1..*" ProductBatch

GoodsReceipt "1" *-- "1..*" ReceiptItem
GoodsShipment "1" *-- "1..*" ShipmentItem
WriteOff "1" *-- "1..*" WriteOffItem

StockReport "1" *-- "1..*" StockReportItem
MovementReport "1" *-- "1..*" StockMovement

ReceiptItem --> Product
ShipmentItem --> Product
WriteOffItem --> Product
StockReportItem --> Product

ReceiptItem --> StorageLocation
ShipmentItem --> ProductBatch
WriteOffItem --> ProductBatch

StockMovement --> Product
StockMovement --> MovementType

' Dependency relationships
GoodsReceipt ..> ReceiptStatus
GoodsShipment ..> ShipmentStatus
WriteOff ..> WriteOffStatus
StockReportItem ..> StockStatus

@enduml
```
