### Рамки. Информационная система управления складом.

### Уровень. Задача, определённая пользователем.

### Основной исполнитель. Кладовщик.

### Заинтересованные лица и их требования:
- **Кладовщик**. Нуждается в простом способе оформления списаний с указанием причины и ответственного лица.
- **Бухгалтерия**. Требует точных данных для корректировки финансовых остатков и налогового учёта.
- **Система мониторинга запасов**. Должна своевременно обновлять данные о доступных остатках для предотвращения ошибок в заказах.

### Предусловия:
- Товары для списания физически присутствуют на складе и учтены в системе.
- Кладовщик имеет доступ к функции списания и знает причины операции.
- Указано ответственное лицо за списание.

### Результаты (Постусловия):
- Сформирован официальный документ списания с детальной информацией по товарам.
- Учётные остатки товаров на складе уменьшены на объём списанных позиций.
- Зафиксирована история перемещений с пометкой «списание» для аудита.
- Данные переданы в смежные системы (бухгалтерия, аналитика).

### Основной успешный сценарий (Списание товаров):
1. Кладовщик заполняет данные о списании: выбирает товары, указывает количество, причину и ответственное лицо.
2. Система проверяет корректность данных и наличие достаточных остатков по каждому товару.
3. Для каждого товара система автоматически определяет партию списания.
4. Формируется документ списания с привязкой к конкретным ячейкам хранения.
5. Система обновляет остатки товаров и фиксирует факт списания в журнале операций.
6. Кладовщик получает номер документа и подтверждение завершения операции.

### Расширения (альтернативные потоки):
- **Недостаточно остатков по товару.**
  1. Система информирует: «Недостаточно товара [название] для списания. Доступно: [X] шт.».
  2. Кладовщик уменьшает количество или отменяет операцию.

- **Несколько партий товара с разным сроком годности.**
  1. Система предлагает выбрать приоритет списания (самый старый срок или конкретная партия).
  2. Кладовщик подтверждает выбор перед продолжением.

- **Конфликт данных при обновлении остатков.**
  1. Система блокирует операцию и уведомляет об ошибке.
  2. Требуется вмешательство администратора для ручного разрешения ситуации.

### Специальные требования:
- Все списания должны сопровождаться обязательным указанием причины из регламентированного списка.
- Документ списания генерируется в формате, пригодном для печати и передачи в бухгалтерию.
- Система предупреждает при попытке списать товары с отрицательными остатками.

### Список основных сущностей и данных:
- **Документ списания**: номер, дата, причина, ответственное лицо, статус.
- **Позиция списания**: товар, количество, номер партии, ячейка хранения.
- **Партия товара**: дата прихода, срок годности, текущий остаток.
- **Журнал операций**: тип операции, дата, пользователь, детали изменений.

### Частота использования:
- Ежедневные списания из-за порчи – 1-5 операций в день.
- Плановые списания (устаревшие товары) – 1-2 раза в месяц.

### Открытые вопросы:
- Требуется ли обязательное фото/видео подтверждение факта порчи перед списанием?
- Как регулировать лимиты на сумму списаний без согласования с руководителем?
- Нужно ли интегрировать систему с камерами видеонаблюдения для автоматической фиксации списываемых товаров?