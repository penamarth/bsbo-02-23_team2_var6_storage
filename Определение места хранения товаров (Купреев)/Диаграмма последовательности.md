![alt text](../assets/find.png)

```
@startuml
actor Кладовщик
participant "Складской UI" as UI
participant "WarehouseSystemFacade" as Facade
participant "Product" as Product
participant "StorageLocation" as Location
participant "StockMovement" as Movement

== Регистрация поступления товара ==

Кладовщик -> UI: Регистрирует поступление\nновой партии товара\n(указывает ID товара и количество)

UI -> Facade: registerGoodsReceipt(supplier, items)
Facade -> Product: getProductById(productId)
Product --> Facade: Product (id, category, volume, weight и др.)

== Поиск подходящих мест хранения ==

Facade -> Facade: findOptimalLocation(product, quantity)
Facade -> Location: получить список ячеек по категории и объёму
Location --> Facade: список подходящих StorageLocation

Facade --> UI: список доступных мест хранения

UI -> Кладовщик: Отображает список подходящих\nячеек (зона, стеллаж, полка)

== Выбор и привязка места хранения ==

Кладовщик -> UI: Выбирает ячейку из списка

UI -> Facade: assignStorageLocation(productId, selectedLocation)

Facade -> Location: canStore(product, quantity)?
Location --> Facade: true / false

alt Ячейка доступна
  Facade -> Location: обновить usedSpace
  Facade -> Movement: создать StockMovement (RECEIPT)
  Movement --> Facade: подтверждение
  Facade --> UI: "Товар успешно размещён"
  UI -> Кладовщик: Сообщение об успешном размещении
else Ячейка занята или не подходит
  Facade --> UI: "Невозможно разместить в выбранной ячейке"
  UI -> Кладовщик: Предупреждение
end

@enduml
```
